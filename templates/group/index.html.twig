{% extends 'base.html.twig' %}

{% block title %}Gestion des groupes
{% endblock %}

{% block body %}
	{% if is_granted("IS_AUTHENTICATED_FULLY")%}
		<section>
			<div class="container">
				<div class="row">
					<div class="card mt-3 p-3 mb-3 shadow">
						<div class="card-body">
							<h2 class="mt-3 pb-3">Groupe</h2>
							{{form_start(form)}}
							{{form_widget(form)}}
							<a href="{{ path('home_index') }}#group" class="btn btn-danger">
								Retour</a>
							<button type="submit" class="btn btn-dark">Valider</button>
							{{form_end(form)}}
							{% if images != null %}
								<div class="gallerie mt-3">
									<div class="gallerie-container">
										{% for image in images %}
											<div class="mb-3 mx-1 position-relative hover-delete-image galerie-object">
												<img src="{{asset('images/')}}{{image.name}}" alt="image" class="image-preview bg-dark rounded p-0 gallerie-image">
												<a href="{{path('group_image_delete', {id: image.id})}}" data-delete data-token="{{csrf_token('delete' ~ image.id)}}" class="position-absolute top-0 end-0">
													<svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="white" class="bi bi-x-circle-fill" viewbox="0 0 20 20">
														<path d="M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0zM5.354 4.646a.5.5 0 1 0-.708.708L7.293 8l-2.647 2.646a.5.5 0 0 0 .708.708L8 8.707l2.646 2.647a.5.5 0 0 0 .708-.708L8.707 8l2.647-2.646a.5.5 0 0 0-.708-.708L8 7.293 5.354 4.646z"/>
													</svg>
												</a>

											</div>
										{% endfor %}
									</div>
								</div>
							{% endif %}
						</div>
					</div>
				</div>
			</section>
		{% endif %}
	{% endblock %}

	{% block javascripts %}

		<script src="{{asset('js/images.js')}}"></script>

	{% endblock %}
